---
export interface Props {
  character: 'suu' | 'toge';
  position?: 'left' | 'right';
  className?: string;
}

const { character, position = 'right', className = '' } = Astro.props;

const imagePath = `/images/mascots/${character}-face.png`;
const altText = character === 'suu' ? 'スーちゃん' : 'トゲくん';

const positionClasses = position === 'right'
  ? 'right-0 translate-x-3/4 hover:translate-x-1/4'
  : 'left-0 -translate-x-3/4 hover:-translate-x-1/4';
---

<div
  class={`mascot-peek fixed bottom-20 z-40 cursor-pointer transition-transform duration-500 ease-out ${positionClasses} ${className}`}
  title={`${altText}だよ！`}
>
  <div class="w-16 h-16 md:w-20 md:h-20">
    <img
      src={imagePath}
      alt={altText}
      class="w-full h-full object-contain drop-shadow-lg"
    />
  </div>
</div>

<style>
  .mascot-peek:hover {
    animation: peek-bounce 0.3s ease-out;
  }

  @keyframes peek-bounce {
    0%, 100% {
      transform: translateX(var(--tx)) translateY(0);
    }
    50% {
      transform: translateX(var(--tx)) translateY(-8px);
    }
  }

  .mascot-peek[class*="right-0"]:hover {
    --tx: 25%;
  }

  .mascot-peek[class*="left-0"]:hover {
    --tx: -25%;
  }
</style>
