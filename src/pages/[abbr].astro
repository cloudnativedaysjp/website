---
import { Conferences } from "../data/conferences";
import { talkMap } from "../data/talks";
import Layout from "../layouts/Layout.astro";
export async function getStaticPaths() {
	return Conferences.map((conference) => {
		return { params: { abbr: conference.abbr } }
	})
}
const { abbr } = Astro.params;
const conference = Conferences.find((conference) => conference.abbr == abbr )
const conferenceExists = conference != undefined
const talks = talkMap.get(abbr||"")

---

<Layout title="Welcome to Astro.">
	<main>
		{conferenceExists &&
			<div>
	  	      <h1>{conference.name}</h1>
	  	      <h2>{conference.theme}</h2>
	  	      <p>{conference.conferenceDays.filter((day) => !day.internal).map((day) => day.date).join(", ")}</p>
	  	      <h2>About</h2>
	  	      <p>{conference.about}</p>
			  <ul>
			 	 {talks?.map((talk) => {
					return <li>{talk.title}</li>
				  })}
				</ul>
			</div>
		}
	</main>
</Layout>
